<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
  <mapper namespace="com.home.st1.member.MemberDAO">
  
  <!-- 회원가입 -->
  <insert id="memberAdd" parameterType="MemberDTO">
  	INSERT INTO MEMBERS
  	VALUES (#{memberRole}, #{id}, #{pw}, #{name}, #{phone}, #{email}, #{address})
  </insert>
  
  <!-- 권한설정 -->
  <insert id="setMemeberRoleAdd" parameterType="MemberDTO">
  	INSERT INTO MEMBERROLE
  	VALUES (#{roleId},(SELECT ROLEID FROM MEMBERROLE WHERE ROLENAME = 'SOILMEMBER'))
  </insert>
  
  <!-- 로그인 -->
  <select id="getMemberLogin" parameterType="MemberDTO" resultType="MemberDTO">
  	SELECT * FROM MEMBERS WHERE ID=#{id}
  </select>
  
  <!-- 회원정보수정 -->
  <update id="setMemberUpdate" parameterType="MemberDTO">
  	UPDATE MEMBERS SET PHONE=#{phone}, EMAIL=#{email}, ADDRESS=#{address}
  	WHERE ID=#{id}
  </update>
  

  
  	
  </mapper>